const riddles = [
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ù„Ù‡ ÙˆØ¬Ù‡ ÙˆÙ„ÙŠØ³ Ù„Ù‡ Ø¹ÙŠÙˆÙ†ØŸ",
    answers: ["Ø³Ø§Ø¹Ø©", "Ø³Ø§Ø¹Ù‡", "watch", "clock"],
    hint: "Ø´ÙŠØ¡ ØªØ³ØªØ®Ø¯Ù…Ù‡ Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„ÙˆÙ‚Øª"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙƒÙ„Ù…Ø§ Ø£Ø®Ø°Øª Ù…Ù†Ù‡ Ø£ÙƒØ¨Ø±ØŸ",
    answers: ["Ø­ÙØ±Ø©", "Ø­ÙØ±Ù‡", "hole"],
    hint: "Ø´ÙŠØ¡ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙƒÙ„Ù‡ ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ Ù…Ù† Ø§Ù„Ø³Ù†Ø©ØŸ",
    answers: ["ÙŠÙˆÙ… Ø§Ù„Ø«Ø§Ù†ÙŠ", "Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø«Ø§Ù†ÙŠ", "Ø§Ù„Ø«Ø§Ù†ÙŠ", "Ø§Ù„Ø§ÙŠØ§Ù…"],
    hint: "ØªØ§Ø±ÙŠØ®ÙŠ Ø´ÙŠØ¡"
  },
  {
    question: "Ø£Ù†Ø§ Ø£Ø³ÙˆØ¯ Ø¹Ù†Ø¯Ù…Ø§ Ø£ÙƒÙˆÙ† Ù†Ø¸ÙŠÙØ© ÙˆØ¨ÙŠØ¶Ø§Ø¡ Ø¹Ù†Ø¯Ù…Ø§ Ø£ÙƒÙˆÙ† Ù‚Ø°Ø±Ø©ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ù„ÙˆØ­Ø©", "Ø³Ø¨ÙˆØ±Ø©", "blackboard"],
    hint: "ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©"
  },
  {
    question: "Ø£Ø±Ø¨Ø¹ Ø£Ø±Ø¬Ù„ ÙˆÙ„Ø§ ØªØ±ÙƒØ¶ØŒ Ù…Ø§ Ù‡ÙˆØŸ",
    answers: ["ÙƒØ±Ø³ÙŠ", "ÙƒØ±Ø³Ù‰", "table", "Ø·Ø§ÙˆÙ„Ø©"],
    hint: "Ø£Ø«Ø§Ø«"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØµØ¹Ø¯ Ø¨Ø¯ÙˆÙ† Ø£Ø±Ø¬Ù„ ÙˆÙŠØ³Ù‚Ø· Ø¨Ø¯ÙˆÙ† Ø¬Ù†Ø§Ø­ØŸ",
    answers: ["Ù…Ø·Ø±", "Ù…Ø§Ø¡", "water", "rain"],
    hint: "Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø¡"
  },
  {
    question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ù‡Ø± Ø§Ù„ØªÙŠ ÙÙŠÙ‡Ø§ 28 ÙŠÙˆÙ…Ø§Ù‹ØŸ",
    answers: ["12", "ÙƒÙ„ Ø§Ù„Ø£Ø´Ù‡Ø±", "Ø¬Ù…ÙŠØ¹", "all"],
    hint: "ÙƒÙ„Ù‡Ø§!"
  },
  {
    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠØ³ÙŠØ± Ù„ÙƒÙ† Ù„Ø§ ÙŠÙ…Ø´ÙŠØŸ",
    answers: ["Ø³Ø§Ø¹Ø©", "Ø³Ø§Ø¹Ù‡", "Ø³Ø§Ø¹Ø§Øª", "watch"],
    hint: "ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¹Ù‚Ø§Ø±Ø¨"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠØ¯Ø®Ù„ Ø§Ù„Ù…Ø§Ø¡ ÙˆÙ„Ø§ ÙŠØºØ±Ù‚ØŸ",
    answers: ["Ø¶ÙˆØ¡", "Ù†ÙˆØ±", "light"],
    hint: "ØªØ±Ø§Ù‡ ÙÙŠ Ø§Ù„Ø¸Ù„Ø§Ù…"
  },
  {
    question: "Ø£Ù†Ø§ Ø·ÙˆÙŠÙ„Ø© Ø¹Ù†Ø¯Ù…Ø§ Ø£ÙƒÙˆÙ† ØµØºÙŠØ±Ø© ÙˆÙ‚ØµÙŠØ±Ø© Ø¹Ù†Ø¯Ù…Ø§ Ø£ÙƒÙˆÙ† Ø·ÙˆÙŠÙ„Ø©ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø´Ù…Ø¹Ø©", "Ø´Ù…ÙˆØ¹", "candle"],
    hint: "ØªØ¶ÙŠØ¡ Ø§Ù„Ø¸Ù„Ø§Ù…"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ø¥Ø°Ø§ Ø£Ø·Ø¹Ù…ØªÙ‡ Ø¬Ø§Ø¹ØŒ ÙˆØ¥Ø°Ø§ Ø£Ø¹Ø·ÙŠØªÙ‡ Ù…Ø§Ø¡ Ø¹Ø·Ø´ØŸ",
    answers: ["Ù†Ø§Ø±", "fire"],
    hint: "ØªØ­ØªØ±Ù‚ Ø¨Ø³Ù‡ÙˆÙ„Ø©"
  },
  {
    question: "Ø£Ù†Ø§ Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ù„ÙƒÙ† Ù„Ø§ Ø£ÙØªØ­ Ø£ÙŠ Ø¨Ø§Ø¨ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¨ÙŠØ§Ù†Ùˆ", "pianoforte", "piano"],
    hint: "Ø¢Ù„Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ©"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯ ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯ Ø§Ù„Ø¸Ù„Ø§Ù…ØŸ",
    answers: ["Ø¹Ù…Ù‚", "depth", "ØºÙ…Ù‚"],
    hint: "ÙÙŠ Ø§Ù„Ø¨Ø¦Ø±"
  },
  {
    question: "Ø£Ù†Ø§ Ø£Ø­Ù…Ù„ Ø§Ù„Ù…Ø§Ø¡ ÙˆÙ„ÙƒÙ†ÙŠ Ù„Ø³Øª Ø¥Ù†Ø§Ø¡ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¥Ø³ÙÙ†Ø¬Ø©", "sponge", "Ø§Ø³ÙÙ†Ø¬"],
    hint: "ØªØ³ØªØ®Ø¯Ù… Ù„Ù„ØªÙ†Ø¸ÙŠÙ"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ø´ÙŠ Ø¹Ù„Ù‰ Ø±Ø£Ø³Ù‡ ÙƒÙ„ ÙŠÙˆÙ…ØŸ",
    answers: ["Ù…Ø³Ù…Ø§Ø±", "nail", "Ù…Ø³Ø§Ù…ÙŠØ±"],
    hint: "Ù…Ø¹Ø¯Ù†ÙŠ"
  },
  {
    question: "Ø£Ù†Ø§ Ø£Ø¨ÙŠØ¶ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø·Ø­ ÙˆØ£Ø­Ù…Ø± Ø¨Ø§Ù„Ø¯Ø§Ø®Ù„ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¨Ø·ÙŠØ®", "watermelon", "Ø´Ù…Ø§Ù…"],
    hint: "ÙØ§ÙƒÙ‡Ø© ØµÙŠÙÙŠØ©"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠØ³Ù…Ø¹ Ø¨Ø¯ÙˆÙ† Ø¢Ø°Ø§Ù† ÙˆÙŠØªÙƒÙ„Ù… Ø¨Ø¯ÙˆÙ† ÙÙ… ÙˆÙŠÙ…ÙˆØª Ø¥Ø°Ø§ Ø£ÙƒÙ„ØŸ",
    answers: ["ØµØ¯Ù‰", "echo"],
    hint: "ØªØ³Ù…Ø¹Ù‡ ÙÙŠ Ø§Ù„Ø¬Ø¨Ø§Ù„"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ Ù„Ù‡ Ø­Ù„Ù‚Ø© ÙˆÙ„ÙƒÙ† Ù„Ø§ ÙŠØ±ØªØ¯ÙŠÙ‡Ø§ØŸ",
    answers: ["Ù‡Ø§ØªÙ", "telephone", "Ø¬Ø±Ø³", "ring"],
    hint: "Ù„Ù„Ø§ØªØµØ§Ù„"
  },
  {
    question: "Ø£Ù†Ø§ Ø¯Ø§Ø¦Ø±ÙŠ Ù„ÙƒÙ† Ù„Ø§ Ø£Ù†Ø§Ù…ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¹ÙŠÙ†", "eye"],
    hint: "Ù…Ù† Ø­ÙˆØ§Ø³Ùƒ"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ù„Ù‡ Ø£Ø³Ù†Ø§Ù† ÙˆÙ„Ø§ ÙŠØ¹Ø¶ØŸ",
    answers: ["Ù…Ø´Ø·", "comb", "Ù…Ø´Ø§Ø·"],
    hint: "Ù„Ù„Ø¹Ù†Ø§ÙŠØ© Ø§Ù„Ø´Ø®ØµÙŠØ©"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙƒÙ„Ù…Ø§ Ø£Ø¹Ø·ÙŠØªÙ‡ Ø£ÙƒØ«Ø± Ø²Ø§Ø¯ Ø¹Ø¯Ø§Ø¯Ø§Ù‹ØŸ",
    answers: ["Ø«Ù‚Ø¨", "hole"],
    hint: "ÙŠØ²Ø¯Ø§Ø¯ Ø­Ø¬Ù…Ø§Ù‹"
  },
  {
    question: "Ø£Ù†Ø§ Ø£Ø±ØªÙØ¹ Ø¨Ø¯ÙˆÙ† Ø¬Ù†Ø§Ø­ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¯Ø®Ø§Ù†", "smoke"],
    hint: "Ù…Ù† Ø§Ù„Ù†Ø§Ø±"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ù„Ù‡ Ø£Ø°Ù† ÙˆÙ„Ø§ ÙŠØ³Ù…Ø¹ØŸ",
    answers: ["Ø°Ø±Ø©", "corn", "Ù‚Ù…Ø­"],
    hint: "Ù…Ø­ØµÙˆÙ„ Ø²Ø±Ø§Ø¹ÙŠ"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ±ÙƒØ¶ Ù„ÙƒÙ† Ù„Ø§ ÙŠØ±ØªØ¯ÙŠ Ø­Ø°Ø§Ø¡ØŸ",
    answers: ["Ù…Ø§Ø¡", "water", "Ù†Ù‡Ø±", "stream"],
    hint: "ÙŠØªØ¯ÙÙ‚"
  },
  {
    question: "Ø£Ù†Ø§ Ù…ÙÙŠØ¯Ø© ÙÙ‚Ø· Ø¹Ù†Ø¯Ù…Ø§ ØªÙ†ÙƒØ³Ø±ÙŠØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¨ÙŠØ¶Ø©", "egg"],
    hint: "Ø·Ø¹Ø§Ù…"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ù„Ù‡ Ù„Ø³Ø§Ù† ÙˆÙ„Ø§ ÙŠØªÙƒÙ„Ù…ØŸ",
    answers: ["Ø­Ø°Ø§Ø¡", "shoe", "Ø¬Ø²Ù…Ø©"],
    hint: "ØªÙ„Ø¨Ø³Ù‡Ø§ ÙÙŠ Ø§Ù„Ù‚Ø¯Ù…ÙŠÙ†"
  },
  {
    question: "Ø£Ù†Ø§ Ø£Ù…Ù„Ø£ Ø§Ù„ØºØ±ÙØ© Ù„ÙƒÙ† Ù„Ø§ Ø£Ø­ØªÙ„ Ù…ÙƒØ§Ù†ØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¶ÙˆØ¡", "light", "Ù†ÙˆØ±"],
    hint: "Ù…Ù† Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙƒÙ„Ù…Ø§ ØºØ³Ù„ØªÙ‡ Ø£ØµØ¨Ø­ Ø£Ù‚Ø°Ø±ØŸ",
    answers: ["Ù…Ø§Ø¡", "water"],
    hint: "ÙŠØ£ØªÙŠ Ù…Ù† Ø§Ù„Ø­Ù†ÙÙŠØ©"
  },
  {
    question: "Ø£Ù†Ø§ Ø®ÙÙŠÙØ© Ù…Ø«Ù„ Ø§Ù„Ø±ÙŠØ­ Ù„ÙƒÙ† Ù„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ Ø£Ø­Ø¯ Ø­Ù…Ù„ÙŠØŒ Ù…Ù† Ø£ÙƒÙˆÙ†ØŸ",
    answers: ["Ø¸Ù„", "shadow"],
    hint: "ØªØªØ¨Ø¹Ùƒ ÙÙŠ Ø§Ù„Ø´Ù…Ø³"
  },
  {
    question: "Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙƒÙ„Ù…Ø§ Ù†Ù…Øª Ø£ØµØ¨Ø­ Ø£ØµØºØ±ØŸ",
    answers: ["Ø´Ù…Ø¹Ø©", "candle"],
    hint: "ØªØ­ØªØ±Ù‚"
  }
];

class Riddle {
  constructor() {
    this.name = "Ù„ØºØ²";
    this.author = "Yamada KJ & Alastor";
    this.description = "ğŸ§© Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„ØºØ§Ø² - Ø®Ù…Ù‘Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù…Ù† 30+ Ù„ØºØ²!";
    this.aliases = ["riddle", "Ø§Ù„ØºØ§Ø²", "puzzle"];
    this.role = 0;
    this.cooldowns = 5;
  }

  getRandomRiddle() {
    return riddles[Math.floor(Math.random() * riddles.length)];
  }

  async execute({ api, event }) {
    try {
      api.setMessageReaction("ğŸ§©", event.messageID, (err) => {}, true);

      const riddle = this.getRandomRiddle();

      let msg = `ğŸ§© Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„ØºØ§Ø²!\n`;
      msg += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n`;
      msg += `â“ Ø§Ù„Ø³Ø¤Ø§Ù„:\n${riddle.question}\n\n`;
      msg += `ğŸ’¡ ØªÙ„Ù…ÙŠØ­: ${riddle.hint}\n\n`;
      msg += `ğŸ“ Ø£Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©!\n`;
      msg += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;

      try {
        const sentMessage = await api.sendMessage(msg, event.threadID);
        if (sentMessage) {
          global.client.handler.reply.set(sentMessage.messageID, {
            name: this.name,
            messageID: sentMessage.messageID,
            riddle: riddle,
            author: event.senderID,
            attempts: 0
          });
        }
      } catch (err) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù„ØºØ²:', err);
      }

      api.setMessageReaction("âœ…", event.messageID, (err) => {}, true);

    } catch (err) {
      console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ù„ØºØ²:", err);
      return api.sendMessage("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©", event.threadID);
    }
  }

  async onReply({ api, event, reply }) {
    try {
      const { author, riddle } = reply;
      if (author !== event.senderID) return;

      const answer = event.body.trim().toLowerCase();
      const isCorrect = riddle.answers.some(a => a.toLowerCase() === answer);

      if (isCorrect) {
        api.setMessageReaction("âœ…", event.messageID, (err) => {}, true);
        let msg = `ğŸ‰ ØµØ­ÙŠØ­!\n`;
        msg += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
        msg += `âœ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: **${riddle.answers[0]}**\n\n`;
        msg += `ğŸ† Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª Ø°ÙƒÙŠ Ø¬Ø¯Ø§Ù‹!\n`;
        msg += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;
        api.sendMessage(msg, event.threadID);
      } else {
        api.setMessageReaction("âŒ", event.messageID, (err) => {}, true);
        let msg = `âŒ Ø®Ø·Ø£!\n`;
        msg += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;
        msg += `âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: **${riddle.answers[0]}**\n\n`;
        msg += `ğŸ§© Ø­Ø§ÙˆÙ„ Ù„ØºØ² Ø¢Ø®Ø±!\n`;
        msg += `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;
        api.sendMessage(msg, event.threadID);
      }

    } catch (err) {
      console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø±Ø¯:", err);
      api.sendMessage("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£", event.threadID);
    }
  }
}

export default new Riddle();
